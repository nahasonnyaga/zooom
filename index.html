<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Zooom</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="theme-color" content="#1da1f2">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta property="og:title" content="Zooom">
  <meta property="og:description" content="A world-class, fast social network.">
  <meta property="og:type" content="website">
  <meta name="description" content="Zooom is a world-class, fast social network. Connect, share, and engage.">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="assets/icon-192.png">
  <link rel="apple-touch-icon" href="assets/icon-192.png">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/feed.css">
  <link rel="stylesheet" href="css/navbar.css">
  <link rel="stylesheet" href="css/x-topbar.css">
  <!-- Lucide Icons CDN - MIT Licensed, worldclass icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX');
  </script>
</head>
<body>
  <!-- X-style Topbar: horizontally scrollable, sections as tabs -->
  <header id="x-topbar" class="x-topbar horizontal-scroll">
    <button class="x-tab active" data-section="for-you">
      <i data-lucide="sparkles"></i>
      <span>For You</span>
    </button>
    <button class="x-tab" data-section="following">
      <i data-lucide="users"></i>
      <span>Following</span>
    </button>
    <button class="x-tab" data-section="mentions">
      <i data-lucide="at-sign"></i>
      <span>Mentions</span>
    </button>
    <button class="x-tab" data-section="hashtags">
      <i data-lucide="hash"></i>
      <span>#Hashtags</span>
    </button>
    <button class="x-tab" data-section="trending">
      <i data-lucide="trending-up"></i>
      <span>Trending</span>
    </button>
    <button class="x-tab" data-section="new-users">
      <i data-lucide="user-plus"></i>
      <span>New Users</span>
    </button>
    <button class="x-tab" data-section="notifications">
      <i data-lucide="bell"></i>
      <span>Notifications</span>
    </button>
    <button class="x-tab" data-section="media">
      <i data-lucide="image"></i>
      <span>Media</span>
    </button>
  </header>

  <main id="feed-container">
    <!-- Dynamically loaded content based on the selected x-tab -->
  </main>

  <!-- Bottom Navbar: essential actions only, X-style glassy, large Lucide icons -->
  <nav id="bottom-navbar" class="navbar navbar-bottom glassy">
    <a href="index.html" aria-label="Home"><i data-lucide="home"></i></a>
    <a href="post.html" aria-label="Compose"><i data-lucide="plus-circle"></i></a>
    <a href="notifications.html" aria-label="Notifications"><i data-lucide="bell"></i></a>
    <a href="profile.html" aria-label="Profile"><i data-lucide="user"></i></a>
  </nav>

  <script src="js/supabase.js"></script>
  <script src="js/main.js"></script>
  <script src="js/feed.js"></script>
  <script>
    // Lucide icon rendering
    document.addEventListener("DOMContentLoaded", () => {
      lucide.createIcons();
    });

    // Tab switching logic
    document.querySelectorAll('.x-tab').forEach(tab => {
      tab.addEventListener('click', function() {
        document.querySelectorAll('.x-tab').forEach(t => t.classList.remove('active'));
        this.classList.add('active');
        window.loadXSection(this.dataset.section);
      });
    });

    // Section loading logic (simplified, implement per-section loading in js/feed.js or similar)
    window.loadXSection = function(section) {
      lucide.createIcons();
      const feed = document.getElementById('feed-container');
      feed.innerHTML = '<div class="loader"></div>';
      setTimeout(() => {
        feed.innerHTML = `<h2 style="text-align:center;color:#1da1f2;margin-top:2em;">${section.replace(/-/g,' ').toUpperCase()} feed coming soon...</h2>`;
      }, 400);
    };
    // Initial load
    window.loadXSection('for-you');
  </script>
</body>
</html>
